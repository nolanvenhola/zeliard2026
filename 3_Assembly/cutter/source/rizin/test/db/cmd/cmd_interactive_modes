NAME=Internal less
FILE==
CMDS=<<EOF
e scr.interactive=false
pd 1~..
EOF
EXPECT_ERR=<<EOF
Internal less requires scr.interactive=true.
EOF
RUN

NAME=Hud mode
FILE==
CMDS=<<EOF
e scr.interactive=false
pd 1~...
EOF
EXPECT_ERR=<<EOF
Hud mode requires scr.interactive=true.
EOF
RUN

NAME=?** search
FILE==
CMDS=<<EOF
e scr.interactive=true
e scr.utf8=true
e scr.columns=120
e scr.rows=4
e scr.color=0
< \n; ?**
echo
echo
e scr.utf8=false
< \n; ?**
echo
EOF
EXPECT=<<EOF
[?25l[0m[2J[0;0H0> |                                                                                                                   [0m[2J[0;0H0> |
 - â”‚ !<command> [<args1> <args2> ...] # Run command via system(3) with raw output. Grepping via '~' automatically forces
                                        use of '!!' instead.                                                            
   â”‚ !!<command> [<args1> <args2> ...] # Run command via system(3) and pipe its stdout to rizin                         [?25h

[?25l[0m[2J[0;0H0> |                                                                                                                   [0m[2J[0;0H0> |
 - | !<command> [<args1> <args2> ...] # Run command via system(3) with raw output. Grepping via '~' automatically forces
                                        use of '!!' instead.                                                            
   | !!<command> [<args1> <args2> ...] # Run command via system(3) and pipe its stdout to rizin                         [?25h
EOF
RUN

NAME=?** entire help string on match
FILE=--
CMDS=<<EOF
e scr.interactive=true
e scr.utf8=true
e scr.columns=100
e scr.rows=3
e scr.color=0
< f\n; ?**
echo
EOF
EXPECT=<<EOF
[?25l[0m[2J[0;0H0> |                                                                                               [0m[2J[0;0H0> |
 - â”‚ !<command> [<args1> <args2> ...] # Run command via system(3) with raw output. Grepping via '~' 
                                        automatically forces use of '!!' instead.                   [0;0H0> f|                                                                                               [0;0H0> f|
 - â”‚ !<command> [<args1> <args2> ...] # Run command via system(3) with raw output. Grepping via '~' 
                                        automatically Forces use oF '!!' instead.                   [?25h
EOF
RUN

NAME=?** wrapping
FILE=--
CMDS=<<EOF
e scr.interactive=true
e scr.utf8=true
e scr.columns=100
e scr.rows=5
e scr.color=0
< q\n; ?**
echo
EOF
EXPECT=<<EOF
[?25l[0m[2J[0;0H0> |                                                                                               [0m[2J[0;0H0> |
 - â”‚ !<command> [<args1> <args2> ...] # Run command via system(3) with raw output. Grepping via '~' 
                                        automatically forces use of '!!' instead.                   
   â”‚ !!<command> [<args1> <args2> ...] # Run command via system(3) and pipe its stdout to rizin     
   â”‚ #!<interpreter-name> [<arg1> <arg2> ...] # Run interpreter                                     [0;0H0> q|                                                                                               [0;0H0> q|
 - â”‚ %l <str>             # Calculate length of string <str>. Quiet mode stores value in `$?`       
                            register.                                                               
   â”‚ %lQ <str>            # Calculate length of string <str>. Quiet mode stores value in `$?`       
                            register. (Quiet mode)                                                  [?25h
EOF
RUN

NAME=?**e search
FILE==
CMDS=<<EOF
e scr.interactive=true
e scr.utf8=true
e scr.columns=120
e scr.rows=3
e scr.color=0
< \n; ?**e
echo
EOF
EXPECT=<<EOF
[?25l[0m[2J[0;0H0> |                                                                                                                   [0m[2J[0;0H0> |
 - analysis.apply.signature:       bool - enables/disables auto-applying signatures to the loaded binary (see also flirt[0J[0m
          analysis.arch:        str - Select the architecture to use                                                    [?25h
EOF
RUN

NAME=?*** search
FILE==
CMDS=<<EOF
e scr.interactive=true
e scr.utf8=true
e scr.columns=100
e scr.rows=6
e scr.color=0
< %l\n; ?***
echo
EOF
EXPECT=<<EOF
[?25l[0m[2J[0;0H0> |                                                                                               [0m[2J[0;0H0> |
 - ! | Usage: !<command> [<args1> <args2> ...]   # Run command via system(3) with raw output.       
   ! |                                             Grepping via '~' automatically forces use of '!!'
   ! |                                             instead.                                         
   ! | Examples:                                                                                    
   ! | | !ls                     # Execute the 'ls' command via system(3)                           [0;0H0> %|                                                                                               [0;0H0> %|
 - $ | Usage: $[alias[=cmd] [args...]]   # List all defined aliases / Define alias (see %$? for help
   % | Usage: %[j] <expr>   # Evaluate numerical expression <expr>                                  
   % | â”‚ % <expr>     # Evaluate numerical expression <expr>                                        
   % | â”‚ %j <expr>    # Evaluate numerical expression <expr> (JSON mode)                            
   %j | Usage: %j[j] <expr>   # Evaluate numerical expression <expr> (JSON mode)                    [0;0H0> %l|                                                                                              [0;0H0> %l|
 - %L | Usage: %L[q] <str>   # Calculate length of string <str>. Quiet mode stores value in `$?`    
   %L |                        register.                                                            
   %L | â”‚ %L <str>     # Calculate length of string <str>. Quiet mode stores value in `$?` register.
   %L | â”‚ %Lq <str>    # Calculate length of string <str>. Quiet mode stores value in `$?` register.
   %L |                  (quiet mode)                                                               [?25h
EOF
RUN
