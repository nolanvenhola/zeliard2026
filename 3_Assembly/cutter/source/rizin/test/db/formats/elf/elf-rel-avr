NAME=ELF: AVR Relocations
FILE=bins/elf/avr/avr_relocs.elf
CMDS=<<EOF
ir
s 0x02
px 4
s 0x1c
px 2
s 0x22
px 4
EOF
EXPECT=<<EOF
     vaddr      paddr type                 name               
--------------------------------------------------------------
0x00000002 0x00000096 R_AVR_LO8_LDI        
0x00000004 0x00000098 R_AVR_HI8_LDI        
0x00000006 0x0000009a R_AVR_HH8_LDI        
0x00000008 0x0000009c R_AVR_MS8_LDI        
0x0000000a 0x0000009e R_AVR_LO8_LDI_NEG    
0x0000000c 0x000000a0 R_AVR_HI8_LDI_NEG    
0x0000000e 0x000000a2 R_AVR_HH8_LDI_NEG    
0x00000010 0x000000a4 R_AVR_LO8_LDI_PM     
0x00000012 0x000000a6 R_AVR_HI8_LDI_PM     
0x00000014 0x000000a8 R_AVR_HH8_LDI_PM     
0x00000014 0x000000a8 R_AVR_32             .text
0x00000016 0x000000aa R_AVR_LO8_LDI_PM_NEG 
0x00000018 0x000000ac R_AVR_HI8_LDI_PM_NEG 
0x0000001a 0x000000ae R_AVR_HH8_LDI_PM_NEG 
0x0000001c 0x000000b0 R_AVR_13_PCREL       
0x00000020 0x000000b4 R_AVR_7_PCREL        
0x00000020 0x000000b4 R_AVR_32             .text
0x00000022 0x000000b6 R_AVR_CALL           
0x00000026 0x000000ba R_AVR_6              
0x00000028 0x000000bc R_AVR_6_ADIW         
0x0000002a 0x000000be R_AVR_DIFF8          
0x0000002b 0x000000bf R_AVR_DIFF16         
0x0000002c 0x000000c0 R_AVR_32             .text + 0x00000002
0x0000002d 0x000000c1 R_AVR_DIFF32         
0x00000038 0x00000038 R_AVR_32             .text + 0x00000004
0x00000044 0x00000044 R_AVR_32             .text + 0x00000006
0x00000050 0x00000050 R_AVR_32             .text + 0x00000008
0x0000005c 0x0000005c R_AVR_32             .text + 0x0000000a
0x00000068 0x00000068 R_AVR_32             .text + 0x0000000c
0x00000074 0x00000074 R_AVR_32             .text + 0x0000000e
0x00000080 0x00000080 R_AVR_32             .text + 0x00000010
0x0000008c 0x0000008c R_AVR_32             .text + 0x00000012
0x00000098 0x00000098 R_AVR_32             .text + 0x00000014
0x000000a4 0x000000a4 R_AVR_32             .text + 0x00000016
0x000000b0 0x000000b0 R_AVR_32             .text + 0x00000018
0x000000bc 0x000000bc R_AVR_32             .text + 0x0000001a
0x000000c8 0x000000c8 R_AVR_32             .text + 0x0000001c
0x000000d4 0x000000d4 R_AVR_32             .text + 0x0000001e
0x000000e0 0x000000e0 R_AVR_32             .text + 0x00000020
0x000000ec 0x000000ec R_AVR_32             .text + 0x00000022
0x000000f8 0x000000f8 R_AVR_32             .text + 0x00000026
0x00000104 0x00000104 R_AVR_32             .text + 0x00000028
0x00800200 0x000000c6 R_AVR_32             
0x00800204 0x000000ca R_AVR_16             
0x00800206 0x000000cc R_AVR_16_PM          
0x00800208 0x000000ce R_AVR_8              
0x00800209 0x000000cf R_AVR_8_LO8          
0x0080020a 0x000000d0 R_AVR_8_HI8          
0x0080020b 0x000000d1 R_AVR_8_HLO8         
- offset -   0 1  2 3  4 5  6 7  8 9  A B  C D  E F  0123456789ABCDEF
0x00000002  00e0 00e0                                ....
- offset -   0 1  2 3  4 5  6 7  8 9  A B  C D  E F  0123456789ABCDEF
0x0000001c  f1cf                                     ..
- offset -   0 1  2 3  4 5  6 7  8 9  A B  C D  E F  0123456789ABCDEF
0x00000022  0e94 0000                                ....
EOF
RUN
